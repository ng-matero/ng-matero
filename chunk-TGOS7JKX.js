import{a as xi,b as yi,c as bi,e as Ei,f as Ti}from"./chunk-2NKVVDY7.js";import{$a as fi,Bb as pi,Ma as ri,Na as ai,Oa as hi,Pa as li,Q as Qt,Qa as ft,Ra as nt,Sa as Pt,T as ti,Uc as gi,Wc as vi,Xb as mi,a as Jt,ag as wi,bb as ci,ia as ii,ma as ei,oa as xt,pb as ct,rb as ui,wa as ni,xa as oi,xb as di,ya as si}from"./chunk-KP6RUH3P.js";var Mi=function(t,e){return new Mi.fn.init(t,e)},r=Mi;var E=window.document,$=[],zi=$.concat,yt=$.filter,R=$.slice,bt={},Et={},$i={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Rt=/^\s*<(\w+|!)[^>]*>/,_i=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ft=/^(?:body|html)$/i;var Si=["val","css","html","text","data","width","height","offset"],At=E.createElement("table"),Ci=E.createElement("tr"),Wt={tr:E.createElement("tbody"),tbody:At,thead:At,tfoot:At,td:Ci,th:Ci,"*":E.createElement("div")},Di=/^[\w-]*$/,ut={},Li=ut.toString,Bt=E.createElement("div");var K=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},B=E.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};function J(t){return t==null?String(t):ut[Li.call(t)]||"object"}function ot(t){return typeof t=="string"}function H(t){return J(t)=="function"}function Q(t){return t!=null&&t==t.window}function Tt(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function j(t){return J(t)=="object"}function Y(t){return j(t)&&!Q(t)&&Object.getPrototypeOf(t)==Object.prototype}function Mt(t){var e=!!t&&"length"in t&&t.length,i=J(t);return i!="function"&&!Q(t)&&(i=="array"||e===0||typeof e=="number"&&e>0&&e-1 in t)}function Vi(t){return yt.call(t,function(e){return e!=null})}function st(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function jt(t,e){return typeof e=="number"&&!$i[st(t)]?e+"px":e}function Ct(t){return t.replace(/-+(.)?/g,function(e,i){return i?i.toUpperCase():""})}function Yt(t){return t in Et?Et[t]:Et[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function Ni(t){var e,i;return bt[t]||(e=E.createElement(t),E.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),i=="none"&&(i="block"),bt[t]=i),bt[t]}function Oi(t){return t.length>0?r.fn.concat.apply([],t):t}function rt(t){return t instanceof r}function O(t,e,i,n){return H(e)?e.call(t,i,n):e}function zt(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}function tt(t,e){var i=t.className||"",n=i&&i.baseVal!==void 0;if(e===void 0)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function Ii(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}r.fn=r.prototype={constuctor:r,length:0,forEach:$.forEach,reduce:$.reduce,push:$.push,sort:$.sort,splice:$.splice,indexOf:$.indexOf,init:function(t,e){var i;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Rt.test(t))i=r.fragment(t,RegExp.$1,e),t=null;else{if(e!==void 0)return r(e).find(t);i=r.qsa(E,t)}else{if(H(t))return r(E).ready(t);if(rt(t))return t;if(K(t))i=Vi(t);else if(j(t))i=[t],t=null;else{if(e!==void 0)return r(e).find(t);i=r.qsa(E,t)}}else return this;return r.makeArray(i,t,this)},concat:function(){var t,e,i=[];for(t=0;t<arguments.length;t++)e=arguments[t],i[t]=rt(e)?e.toArray():e;return zi.apply(rt(this)?this.toArray():this,i)},pluck:function(t){return r.map(this,function(e){return e[t]})},toArray:function(){return this.get()},get:function(t){return t===void 0?R.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},each:function(t){return $.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},map:function(t){return r(r.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return r(R.apply(this,arguments))},first:function(){var t=this[0];return t&&!j(t)?t:r(t)},last:function(){var t=this[this.length-1];return t&&!j(t)?t:r(t)},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)}};r.extend=r.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},f=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[f]||{},f++),typeof a!="object"&&!H(a)&&(a={}),f===c&&(a=this,f--);f<c;f++)if((t=arguments[f])!=null)for(e in t)i=a[e],n=t[e],a!==n&&(d&&n&&(Y(n)||(o=K(n)))?(o?(o=!1,s=i&&K(i)?i:[]):s=i&&Y(i)?i:{},a[e]=r.extend(d,s,n)):n!==void 0&&(a[e]=n));return a};r.extend({makeArray:function(t,e,i){var n,o=t?t.length:0;for(n=0;n<o;n++)i[n]=t[n];return i.length=o,i.selector=e||"",i},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},qsa:function(t,e){var i,n=e[0]=="#",o=!n&&e[0]==".",s=n||o?e.slice(1):e,a=Di.test(s);return t.getElementById&&a&&n?(i=t.getElementById(s))?[i]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:R.call(a&&!n&&t.getElementsByClassName?o?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},fragment:function(t,e,i){var n,o,s;return _i.test(t)&&(n=r(E.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(Hi,"<$1></$2>")),e===void 0&&(e=Rt.test(t)&&RegExp.$1),e in Wt||(e="*"),s=Wt[e],s.innerHTML=""+t,n=r.each(R.call(s.childNodes),function(){s.removeChild(this)})),Y(i)&&(o=r(n),r.each(i,function(a,f){Si.indexOf(a)>-1?o[a](f):o.attr(a,f)})),n},matches:function(t,e){if(!e||!t||t.nodeType!==1)return!1;var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,o=t.parentNode,s=!o;return s&&(o=Bt).appendChild(t),n=~r.qsa(o,e).indexOf(t),s&&Bt.removeChild(t),n},each:function(t,e){var i,n;if(Mt(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},map:function(t,e){var i,n=[],o,s;if(Mt(t))for(o=0;o<t.length;o++)i=e(t[o],o),i!=null&&n.push(i);else for(s in t)i=e(t[s],s),i!=null&&n.push(i);return Oi(n)}});r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});r.fn.init.prototype=r.fn;function Pi(){}function Ai(t,e){if(arguments.length<2){var i=this[0];if(typeof t=="string")return i?i.style[Ct(t)]||getComputedStyle(i,"").getPropertyValue(t):void 0;if(K(t)){if(!i)return;var n={},o=getComputedStyle(i,"");return r.each(t,function(f,c){n[c]=i.style[Ct(c)]||o.getPropertyValue(c)}),n}}var s="";if(J(t)=="string")!e&&e!==0?this.each(function(){this.style.removeProperty(st(t))}):s=st(t)+":"+jt(t,e);else for(var a in t)!t[a]&&t[a]!==0?this.each(function(){this.style.removeProperty(st(a))}):s+=st(a)+":"+jt(a,t[a])+";";return this.each(function(){this.style.cssText+=";"+s})}function Ri(t){return t?$.some.call(this,function(e){return this.test(tt(e))},Yt(t)):!1}function Fi(t){var e=[];return t?this.each(function(i){if("className"in this){e=[];var n=tt(this),o=O(this,t,i,n);o.split(/\s+/g).forEach(function(s){r(this).hasClass(s)||e.push(s)},this),e.length&&tt(this,n+(n?" ":"")+e.join(" "))}}):this}function Wi(t){var e=[];return this.each(function(i){if("className"in this){if(t===void 0)return tt(this,"");e=tt(this),O(this,t,i,e).split(/\s+/g).forEach(function(n){e=e.replace(Yt(n)," ")}),tt(this,e.trim())}})}function Bi(t){if(t)return this.each(function(i){var n=r(this),o=O(this,t,i,n.offset()),s=n.offsetParent().offset(),a={top:o.top-s.top,left:o.left-s.left};n.css("position")=="static"&&(a.position="relative"),n.css(a)});if(!this.length)return null;if(E.documentElement!==this[0]&&!B(E.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}}function ji(){if(this.length){var t=this[0],e,i=this.offsetParent(),n=Ft.test(i[0].nodeName)?{top:0,left:0}:i.offset();return r(t).css("position")==="fixed"?e=t.getBoundingClientRect():(e=this.offset(),n.top+=parseFloat(r(i[0]).css("border-top-width"))||0,n.left+=parseFloat(r(i[0]).css("border-left-width"))||0),{top:e.top-n.top-parseFloat(r(t).css("margin-top"))||0,left:e.left-n.left-parseFloat(r(t).css("margin-left"))||0}}}function Yi(t){if(this.length){var e="scrollTop"in this[0];return t===void 0?e?this[0].scrollTop:Q(this[0])?this[0].pageYOffset:this[0].defaultView.pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}}function ki(t){if(this.length){var e="scrollLeft"in this[0];return t===void 0?e?this[0].scrollLeft:Q(this[0])?this[0].pageXOffset:this[0].defaultView.pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}}function Xi(){return this.map(function(){for(var t=this.offsetParent||E.body;t&&!Ft.test(t.nodeName)&&r(t).css("position")=="static";)t=t.offsetParent;return t})}function Ui(t,e){var i;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(i=this[0].getAttribute(t))!=null?i:void 0:this.each(function(n){if(this.nodeType===1)if(j(t))for(var o in t)zt(this,o,t[o]);else zt(this,t,O(this,e,n,this.getAttribute(t)))})}function qi(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(e){zt(this,e)},this)})}function Zi(t){var e,i=this;return t?typeof t=="object"?e=r(t).filter(function(){var n=this;return $.some.call(i,function(o){return B(o,n)})}):this.length==1?e=r(r.qsa(this[0],t)):e=this.map(function(){return r.qsa(this,t)}):e=r(),e}function Gi(t,e){var i=[],n=typeof t=="object"&&r(t);return this.each(function(o,s){for(;s&&!(n?n.indexOf(s)>=0:r.matches(s,t));)s=s!==e&&!Tt(s)&&s.parentNode;s&&i.indexOf(s)<0&&i.push(s)}),r(i)}function sn(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");return e>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}function rn(t,e){var i={width:["padding-left","padding-right","border-left-width","border-right-width"],height:["padding-top","padding-bottom","border-top-width","border-bottom-width"]};return t.css("box-sizing")==="border-box"&&!sn()?parseFloat(t.css(e))-parseFloat(t.css(i[e][0]))-parseFloat(t.css(i[e][1]))-parseFloat(t.css(i[e][2]))-parseFloat(t.css(i[e][3])):parseFloat(t.css(e))}function Ki(t,e){var i=t.replace(/./,function(o){return o[0].toUpperCase()}),n=this[0];return e===void 0?Q(n)?n.document.documentElement["client"+i]:Tt(n)?n.documentElement["scroll"+i]:rn(this,t):this.each(function(o){n=r(this),n.css(t,O(this,e,o,n[t]()))})}function Ji(t){return Ki.call(this,"width",t)}function Qi(t){return Ki.call(this,"height",t)}var an=1,ht={},ie="onfocusin"in window,ee={focus:"focusin",blur:"focusout"},ne={mouseenter:"mouseover",mouseleave:"mouseout"},hn=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,te=function(){return!0},$t=function(){return!1},ln={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function at(t){return t._zid||(t._zid=an++)}function _t(t,e){if(e||!t.isDefaultPrevented){e||(e=t),r.each(ln,function(i,n){var o=e[i];t[i]=function(){return this[n]=te,o&&o.apply(e,arguments)},t[n]=$t});try{t.timeStamp||(t.timeStamp=Date.now())}catch(i){console.warn(i)}(e.defaultPrevented!==void 0?e.defaultPrevented:"returnValue"in e?e.returnValue===!1:e.getPreventDefault&&e.getPreventDefault())&&(t.isDefaultPrevented=te)}return t}function oe(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function fn(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function se(t,e,i,n){if(e=oe(e),e.ns)var o=fn(e.ns);return(ht[at(t)]||[]).filter(function(s){return s&&(!e.e||s.e==e.e)&&(!e.ns||o.test(s.ns))&&(!i||at(s.fn)===at(i))&&(!n||s.sel==n)})}function re(t,e){return t.del&&!ie&&t.e in ee||!!e}function ae(t){return ne[t]||ie&&ee[t]||t}function he(t,e,i,n,o,s,a){var f=at(t),c=ht[f]||(ht[f]=[]);e.split(/\s/).forEach(function(d){if(d=="ready")return r(E).ready(i);var l=oe(d);l.fn=i,l.sel=o,l.e in ne&&(i=function(h){var g=h.relatedTarget;if(!g||g!==this&&!B(this,g))return l.fn.apply(this,arguments)}),l.del=s;var x=s||i;l.proxy=function(h){if(h=_t(h),!h.isImmediatePropagationStopped()){h.data=n;var g=x.apply(t,h._args==null?[h]:[h].concat(h._args));return g===!1&&(h.preventDefault(),h.stopPropagation()),g}},l.i=c.length,c.push(l),"addEventListener"in t&&t.addEventListener(ae(l.e),l.proxy,re(l,a))})}function dt(t,e,i,n,o){var s=at(t);(e||"").split(/\s/).forEach(function(a){se(t,a,i,n).forEach(function(f){delete ht[s][f.i],"removeEventListener"in t&&t.removeEventListener(ae(f.e),f.proxy,re(f,o))})})}function le(t){var e,i={originalEvent:t};for(e in t)!hn.test(e)&&t[e]!==void 0&&(i[e]=t[e]);return _t(i,t)}function fe(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)fe(t.childNodes[i],e)}function cn(t,e,i,n){var o,s=r.map(e,function(c){var d=[];return o=J(c),o=="array"?(c.forEach(function(l){if(l.nodeType!==void 0)return d.push(l);if(rt(l))return d=d.concat(l.get());d=d.concat(r.fragment(l))}),d):o=="object"||c==null?c:r.fragment(c)}),a,f=t.length>1;return s.length<1?t:t.each(function(c,d){a=n?d:d.parentNode;var l=B(E.documentElement,a);s.forEach(function(x){if(f)x=x.cloneNode(!0);else if(!a)return r(x).remove();i.call(d,x),l&&fe(x,function(h){if(h.nodeName!=null&&h.nodeName.toUpperCase()==="SCRIPT"&&(!h.type||h.type==="text/javascript")&&!h.src){var g=h.ownerDocument?h.ownerDocument.defaultView:window;g.eval.call(g,h.innerHTML)}})})})}function un(t,e){var i;return typeof t.getElementsByTagName<"u"?i=t.getElementsByTagName(e||"*"):typeof t.querySelectorAll<"u"?i=t.querySelectorAll(e||"*"):i=[],e===void 0||e&&Ii(t,e)?r.merge([t],i):i}function dn(t){for(var e,i,n=0;(i=t[n])!==void 0;n++)i._zid&&(e=ht[i._zid])&&e.forEach(o=>{let s=o.e+"."+o.ns.split(" ").join(".");dt(i,s,o.fn,o.sel)})}function ce(){return this.each(function(){this.nodeType===1&&dn(un(this)),this.parentNode!=null&&this.parentNode.removeChild(this)})}function ue(){return this.each(function(){this.innerHTML=""})}function de(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;r(this).empty().append(O(this,t,e,i))}):0 in this?this[0].innerHTML:null}function pe(){return cn(this,arguments,function(t){this.insertBefore(t,null)},!0)}function me(t,e,i,n,o){var s,a,f=this;return t&&!ot(t)?(r.each(t,function(c,d){f.on(c,e,i,d,o)}),f):(!ot(e)&&!H(n)&&n!==!1&&(n=i,i=e,e=void 0),(n===void 0||i===!1)&&(n=i,i=void 0),n===!1&&(n=$t),f.each(function(c,d){o&&(s=function(l){return dt(d,l.type,n),n.apply(this,arguments)}),e&&(a=function(l){var x,h=r(l.target).closest(e,d).get(0);if(h&&h!==d)return x=r.extend(le(l),{currentTarget:h,liveFired:d}),(s||n).apply(h,[x].concat(R.call(arguments,1)))}),he(d,t,n,i,e,a||s)}))}function ge(t,e,i){var n=this;return t&&!ot(t)?(r.each(t,function(o,s){n.off(o,e,s)}),n):(!ot(e)&&!H(i)&&i!==!1&&(i=e,e=void 0),i===!1&&(i=$t),n.each(function(){dt(this,t,i,e)}))}var I="",pt,pn={Webkit:"webkit",Moz:"",O:"o"},Ht=E.createElement("div"),ve=Ht.style.transitionProperty;Ht.style.transform===void 0&&r.each(pn,function(t,e){if(Ht.style[t+"TransitionProperty"]!==void 0)return I="-"+t.toLowerCase()+"-",pt=e,!1});Ht=null;function we(t){return pt?pt+t:t.toLowerCase()}r.fx={off:pt===void 0&&ve===void 0,speeds:{_default:400,fast:200,slow:600},cssPrefix:I,transitionEnd:we("TransitionEnd"),animationEnd:we("AnimationEnd")};var mn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,kt,xe,ye,be,Ee,Te,Me,Ce,ze,k={};function gn(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}kt=I+"transform";k[xe=I+"transition-property"]=k[ye=I+"transition-duration"]=k[Ee=I+"transition-delay"]=k[be=I+"transition-timing-function"]=k[Te=I+"animation-name"]=k[Me=I+"animation-duration"]=k[ze=I+"animation-delay"]=k[Ce=I+"animation-timing-function"]="";function $e(t,e,i,n,o){var s,a={},f,c="",d=this,l,x=r.fx.transitionEnd,h=!1;if(e===void 0&&(e=r.fx.speeds._default/1e3),o===void 0&&(o=0),r.fx.off&&(e=0),typeof t=="string")a[Te]=t,a[Me]=e+"s",a[ze]=o+"s",a[Ce]=i||"linear",x=r.fx.animationEnd;else{f=[];for(s in t)mn.test(s)?c+=s+"("+t[s]+") ":(a[s]=t[s],f.push(gn(s)));c&&(a[kt]=c,f.push(kt)),e>0&&typeof t=="object"&&(a[xe]=f.join(", "),a[ye]=e+"s",a[Ee]=o+"s",a[be]=i||"linear")}return l=function(g){if(typeof g<"u"){if(g.target!==g.currentTarget)return;r(g.target).off(x,l)}else r(this).off(x,l);h=!0,r(this).css(k),n&&n.call(this)},e>0&&(this.on(x,l),setTimeout(function(){h||l.call(d)},(e+o)*1e3+25)),this.size()&&this.get(0).clientLeft,this.css(a),e<=0&&setTimeout(function(){d.each(function(){l.call(this)})},0),this}function _e(t,e,i,n,o){return H(e)&&(n=e,i=void 0,e=void 0),H(i)&&(n=i,i=void 0),Y(e)&&(i=e.easing,n=e.complete,o=e.delay,e=e.duration),e&&(e=(typeof e=="number"?e:r.fx.speeds[e]||r.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,e,i,n,o)}function He(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Ni(this.nodeName))})}function Se(){return this.css("display","none")}function Xt(t,e,i,n,o){typeof e=="function"&&!o&&(o=e,e=void 0);var s={opacity:i};return n&&(s.scale=n,t.css(r.fx.cssPrefix+"transform-origin","0 0")),t.animate(s,e,null,o)}function vn(t,e,i,n){return Xt(t,e,0,i,function(){Se.call(r(this)),n&&n.call(this)})}function De(t,e){return He.call(this),t===void 0?t=0:this.css("opacity",0),Xt(this,t,1,"1,1",e)}function Le(t,e){return t===void 0?Se.call(this):vn(this,t,"0,0",e)}function Ve(t,e,i){return Xt(this,t,e,null,i)}function Ne(t,e){var i=this.css("opacity");return i>0?this.css("opacity",0):i=1,He.call(this).fadeTo(t,i,e)}var wn={isPlainObject:Y,isArray:K,isFunction:H,noop:Pi},xn={find:Zi,closest:Gi,css:Ai,addClass:Fi,hasClass:Ri,removeClass:Wi,attr:Ui,removeAttr:qi,append:pe,remove:ce,empty:ue,html:de,width:Ji,height:Qi,scrollTop:Yi,scrollLeft:ki,offset:Bi,offsetParent:Xi,position:ji,on:me,off:ge,show:De,hide:Le,anim:$e,animate:_e,fadeTo:Ve,fadeIn:Ne};r.extend(wn);r.fn.extend(xn);var p=r;var Oe={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headerToolbar:["maximize","close"],footerToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M20,14H4V10H20"></path>
      </svg>`,maximize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M4,4H20V20H4V4M6,8V18H18V8H6Z"></path>
      </svg>`,close:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12
        L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z"></path>
      </svg>`,zoomIn:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43
        C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5
        C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5
        C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"></path>
      </svg>`,zoomOut:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5
        A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16
        C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14
        C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"></path>
      </svg>`,prev:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"></path>
      </svg>`,next:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z"></path>
      </svg>`,fullscreen:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M8.5,12.5L11,15.5L14.5,11L19,17H5M23,18V6A2,2 0 0,0 21,4H3
        A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18Z"></path>
      </svg>`,actualSize:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M9.5,13.09L10.91,14.5L6.41,19H10V21H3V14H5V17.59L9.5,13.09
        M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19
        H17.59L13.09,14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91
        L13.09,9.5Z"></path>
      </svg>`,rotateLeft:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12
        C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07
        M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32
        M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13
        M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"></path>
      </svg>`,rotateRight:`<svg viewBox="0 0 24 24" class="svg-inline-icon">
        <path fill="currentColor" d="M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91
        C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31
        L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11
        L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12
        C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10
        L15.55,5.55Z"></path>
      </svg>`},i18n:{minimize:"Minimize",maximize:"Maximize (Alt+X)",close:"Close (Q)",zoomIn:"Zoom-in (+)",zoomOut:"Zoom-out (-)",prev:"Prev (\u2190)",next:"Next (\u2192)",fullscreen:"Fullscreen (F)",actualSize:"Actual-size (Ctrl+Alt+0)",rotateLeft:"Rotate-left (Ctrl+,)",rotateRight:"Rotate-right (Ctrl+.)"},multiInstances:!0,initAnimation:!0,animationDuration:400,animationEasing:"ease-in-out",fixedModalPos:!1,zIndex:1100,dragHandle:null,callbacks:{beforeOpen:p.noop,opened:p.noop,beforeClose:p.noop,closed:p.noop,beforeChange:p.noop,changed:p.noop},index:0,progressiveLoading:!0,appendTo:"body",customButtons:{},positionFixed:!0,initModalPos:null,errorMsg:""};var Ut=window.document;function Ie(t,e){let i=null;return function(){let n=this,o=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(n,o)},e)}}function Pe(t,e,i){let n=new Image;n.onload=function(){e(n)},n.onerror=function(){i(n)},n.src=t}function Ae(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function Re(t){let e=/^.*?\/*([^/?]*)\.[a-z]+(\?.+|$)/gi;return t.replace(e,"$1")}function mt(t,e,i,n){let o=n?t.h:t.w,s=n?t.w:t.h;(s>e.h||o>e.w)&&i.addClass("is-grab"),s<=e.h&&o<=e.w&&i.removeClass("is-grab")}function St(){return!!("ontouchstart"in window||window.DocumentTouch&&Ut instanceof window.DocumentTouch)}function gt(t){return/^(?:body|html)$/i.test(t.nodeName)}function vt(t,e){return e.reduce((i,n)=>i+parseFloat(t.css(n)),0)}function it(t){return t.css("box-sizing")==="border-box"}function Dt(t,e,i,n,o){let s=1;return o?s=Math.min(i/e,n/t,1):s=Math.min(i/t,n/e,1),s}var wt=p(window),L=p(Ut),P="click",qt="resize",Fe="keydown",We="wheel mousewheel DOMMouseScroll",lt=St()?"touchstart":"mousedown",X=St()?"touchmove":"mousemove",U=St()?"touchend":"mouseup",u="photoviewer",C="."+u,w="."+u,F={isMoving:!1,isResizing:!1};function Be(t,e,i){let n=0,o=0,s=0,a=0,f=l=>{l=l||window.event,t[0].focus(),!p(l.target).closest(i).length&&(this.options.multiInstances&&this._bringToFront(),n=l.type==="touchstart"?l.targetTouches[0].pageX:l.clientX,o=l.type==="touchstart"?l.targetTouches[0].pageY:l.clientY,s=parseFloat(t.css("left")),a=parseFloat(t.css("top")),t.css({left:s,top:a,right:"",bottom:""}),L.on(X+w,c).on(U+w,d))},c=l=>{if(l=l||window.event,l.preventDefault(),!F.isMoving&&!F.isResizing&&!this.isMaximized){let x=l.type==="touchmove"?l.targetTouches[0].pageX:l.clientX,h=l.type==="touchmove"?l.targetTouches[0].pageY:l.clientY,g=x-n,m=h-o;t.css({left:g+s,top:m+a})}},d=()=>{L.off(X+w,c).off(U+w,d)};p(e).on(lt+w,f)}var je=`html, body, .${u}-modal, .${u}-stage, .${u}-button, .${u}-resizable-handle`;function Ye(t,e){let i=0,n=0,o=0,s=0,a=0,f=0,c=0,d=h=>{h=h||window.event,h.preventDefault();let g=e.width(),m=e.height(),b=t.width(),T=t.height();i=h.type==="touchstart"?h.targetTouches[0].pageX:h.clientX,n=h.type==="touchstart"?h.targetTouches[0].pageY:h.clientY,c=this.isRotated?(g-m)/2:0,a=this.isRotated?m-b:g-b,f=this.isRotated?g-T:m-T,F.isMoving=a>0||f>0,o=e.position().left-c,s=e.position().top+c,t.hasClass("is-grab")&&p(je).addClass("is-grabbing"),L.on(X+w,l).on(U+w,x)},l=h=>{h=h||window.event,h.preventDefault();let g=h.type==="touchmove"?h.targetTouches[0].pageX:h.clientX,m=h.type==="touchmove"?h.targetTouches[0].pageY:h.clientY,b=g-i,T=m-n,v=b+o,_=T+s;f>0?T+s>c?_=c:T+s<-f+c&&(_=-f+c):_=s,a>0?b+o>-c?v=-c:b+o<-a-c&&(v=-a-c):v=o,e.css({left:v,top:_}),p.extend(this.imageData,{left:v,top:_})},x=()=>{L.off(X+w,l).off(U+w,x),F.isMoving=!1,p(je).removeClass("is-grabbing")};t.on(lt+w,d)}var ke=`html, body, .${u}-modal, .${u}-stage, .${u}-button`,yn={n:"ns",s:"ns",e:"ew",w:"ew",nw:"nwse",se:"nwse",ne:"nesw",sw:"nesw"};function Xe(t,e,i){let n=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-e"></div>`),o=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-w"></div>`),s=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-s"></div>`),a=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-n"></div>`),f=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-se"></div>`),c=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-sw"></div>`),d=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-ne"></div>`),l=p(`<div class="${u}-resizable-handle ${u}-resizable-handle-nw"></div>`),x={e:n,w:o,s,n:a,se:f,sw:c,ne:d,nw:l};t.append(n,o,s,a,f,c,d,l);let h=0,g=0,m={w:0,h:0,x:0,y:0},b={w:0,h:0,x:0,y:0},T={w:0,h:0,x:0,y:0},v=0,_=0,W=0,et="",{modalWidth:A,modalHeight:q}=this.options,Je=(M,y,z)=>{let S=-y+m.w>A?y+m.x:m.x+m.w-A,D=-z+m.h>q?z+m.y:m.y+m.h-q,V=Math.max(y+m.w,A),N=Math.max(z+m.h,q),Z=Math.max(-y+m.w,A),G=Math.max(-z+m.h,q);return{e:{width:V},s:{height:N},se:{width:V,height:N},w:{width:Z,left:S},n:{height:G,top:D},nw:{width:Z,height:G,top:D,left:S},ne:{width:V,height:G,top:D},sw:{width:Z,height:N,left:S}}[M]},Qe=(M,y,z)=>{let S=y+m.w>A?b.w-_+y-v:A-(m.w-b.w)-_-v,D=z+m.h>q?b.h-W+z+v:q-(m.h-b.h)-W+v,V=-y+m.w>A?b.w-_-y-v:A-(m.w-b.w)-_-v,N=-z+m.h>q?b.h-W-z+v:q-(m.h-b.h)-W+v,Z=i.position().left,G=i.position().top,Kt=(S>0?Z:Math.min(Z,0))-v,en=(D>0?G:Math.min(G,0))+v,nn=(V>0?Z:Math.min(Z,0))-v,on=(N>0?G:Math.min(G,0))+v,Vt=S>=-v?(S-v)/2:Math.max(Kt,S),Nt=D>=v?(D+v)/2:Math.max(en,D),Ot=V>=-v?(V-v)/2:Math.max(nn,V),It=N>=v?(N+v)/2:Math.max(on,N);return{e:{left:Vt},s:{top:Nt},se:{top:Nt,left:Vt},w:{left:Ot},n:{top:It},nw:{top:It,left:Ot},ne:{top:It,left:Vt},sw:{top:Nt,left:Ot}}[M]},tn=(M,y)=>{y=y||window.event,y.preventDefault(),F.isResizing=!0,h=y.type==="touchstart"?y.targetTouches[0].pageX:y.clientX,g=y.type==="touchstart"?y.targetTouches[0].pageY:y.clientY,m={w:t.width()+(it(t)?this._modalEdgeValue.horizontal:0),h:t.height()+(it(t)?this._modalEdgeValue.vertical:0),x:t.position().left,y:t.position().top},b={w:e.width(),h:e.height(),x:e.position().left,y:e.position().top},T={w:i.width(),h:i.height(),x:i.position().left,y:i.position().top},v=this.isRotated?(T.w-T.h)/2:0,_=this.isRotated?T.h:T.w,W=this.isRotated?T.w:T.h,et=M,p(ke).css("cursor",yn[M]+"-resize"),L.on(X+w,Zt).on(U+w,Gt)},Zt=M=>{if(M=M||window.event,M.preventDefault(),!this.isMaximized){let y=M.type==="touchmove"?M.targetTouches[0].pageX:M.clientX,z=M.type==="touchmove"?M.targetTouches[0].pageY:M.clientY,S=y-h,D=z-g,V=Je(et,S,D);t.css(V);let N=Qe(et,S,D);i.css(N)}},Gt=()=>{L.off(X+w,Zt).off(U+w,Gt);let M=e.width(),y=e.height();F.isResizing&&mt({w:_,h:W},{w:M,h:y},e),F.isResizing=!1,p(ke).css("cursor","");let{originalWidth:z,originalHeight:S}=this.imageData,D=Dt(z,S,M,y,this.isRotated),V=z*D,N=S*D;p.extend(this.imageData,{initWidth:V,initHeight:N,initLeft:(M-V)/2,initTop:(y-N)/2})};p.each(x,function(M,y){y.on(lt+w,function(z){tn(M,z)})})}var Ue=(()=>{class t{static instances=[];isOpened=!1;isMaximized=!1;isRotated=!1;rotationDegree=0;imageData={};modalData={width:null,height:null,left:null,top:null};prevIndex=null;_lastTimestamp=0;zIndex=1;constructor(i,n){this.init(i,n)}init(i,n){this.options=p.extend(!0,{},Oe,n),n&&p.isArray(n.footerToolbar)&&(this.options.footerToolbar=n.footerToolbar),n&&p.isArray(n.headerToolbar)&&(this.options.headerToolbar=n.headerToolbar),this.open(),this._bringToFront(),this.images=i,this.index=this.options.index,this._loadImage(this.index),this.options.draggable&&this.draggable(this.$photoviewer,this.dragHandle,C+"-button"),this.options.movable&&this.movable(this.$stage,this.$image),this.options.resizable&&this.resizable(this.$photoviewer,this.$stage,this.$image)}_createBtns(i){let n=["minimize","maximize","close","zoomIn","zoomOut","prev","next","fullscreen","actualSize","rotateLeft","rotateRight"],o="";return p.each(i,(s,a)=>{let f=`${u}-button ${u}-button-${a}`;n.indexOf(a)>=0?o+=`<button class="${f}" title="${this.options.i18n[a]}">
            ${this.options.icons[a]}
          </button>`:this.options.customButtons[a]&&(o+=`<button class="${f}" title="${this.options.customButtons[a].title||""}">
            ${this.options.customButtons[a].text}
          </button>`)}),o}_createTitle(){return this.options.title?`<div class="${u}-title"></div>`:""}_createTemplate(){return`<div class="${u}-modal" tabindex="0" role="dialog">
        <div class="${u}-inner">
          <div class="${u}-header">
            <div class="${u}-toolbar ${u}-toolbar-header">
              ${this._createBtns(this.options.headerToolbar)}
            </div>
            ${this._createTitle()}
          </div>
          <div class="${u}-stage">
            <img class="${u}-image" src="" alt="" />
          </div>
          <div class="${u}-footer">
            <div class="${u}-toolbar ${u}-toolbar-footer">
              ${this._createBtns(this.options.footerToolbar)}
            </div>
          </div>
        </div>
      </div>`.replace(/>\s+</g,"><")}_build(){let i=this._createTemplate(),n=p(i);this.$photoviewer=n,this.$stage=n.find(C+"-stage"),this.$title=n.find(C+"-title"),this.$image=n.find(C+"-image"),this.$close=n.find(C+"-button-close"),this.$maximize=n.find(C+"-button-maximize"),this.$minimize=n.find(C+"-button-minimize"),this.$zoomIn=n.find(C+"-button-zoomIn"),this.$zoomOut=n.find(C+"-button-zoomOut"),this.$actualSize=n.find(C+"-button-actualSize"),this.$fullscreen=n.find(C+"-button-fullscreen"),this.$rotateLeft=n.find(C+"-button-rotateLeft"),this.$rotateRight=n.find(C+"-button-rotateRight"),this.$prev=n.find(C+"-button-prev"),this.$next=n.find(C+"-button-next"),this.options.positionFixed&&this.$photoviewer.css({position:"fixed"}),!this.options.dragHandle||this.options.dragHandle===C+"-modal"?this.dragHandle=this.$photoviewer:this.dragHandle=this.$photoviewer.find(this.options.dragHandle),p(this.options.appendTo).eq(0).append(this.$photoviewer),this._stageEdgeValue={horizontal:vt(this.$stage,["left","right","border-left-width","border-right-width"]),vertical:vt(this.$stage,["top","bottom","border-top-width","border-bottom-width"])},this._modalEdgeValue={horizontal:vt(this.$photoviewer,["padding-left","padding-right","border-left-width","border-right-width"]),vertical:vt(this.$photoviewer,["padding-top","padding-bottom","border-top-width","border-bottom-width"])},this._addEvents(),this._addCustomButtonEvents()}open(){this._triggerHook("beforeOpen",this),!this.options.multiInstances&&t.instances.length>0&&t.instances[0].close(),this._build(),this._setInitModalPos(),t.instances.push(this),this._triggerHook("opened",this)}close(){this._triggerHook("beforeClose",this),this.$photoviewer.remove(),t.instances=t.instances.filter(i=>i!==this),t.instances.length===0&&wt.off(qt+w),this._triggerHook("closed",this)}_getOffsetParentData(){let i=p(this.options.appendTo)[0];return{width:this.options.positionFixed||gt(i)?wt.width():i.clientWidth,height:this.options.positionFixed||gt(i)?wt.height():i.clientHeight,scrollLeft:this.options.positionFixed?0:gt(i)?L.scrollLeft():i.scrollLeft,scrollTop:this.options.positionFixed?0:gt(i)?L.scrollTop():i.scrollTop}}_setModalToCenter(){let i,n,o,s,a=0,f=0;if(it(this.$photoviewer)||(a+=this._modalEdgeValue.horizontal,f+=this._modalEdgeValue.vertical),p.isPlainObject(this.options.initModalPos))i=this.options.initModalPos.left,n=this.options.initModalPos.top,o=this.options.initModalPos.right,s=this.options.initModalPos.bottom;else{let d=this._getOffsetParentData();i=(d.width-this.options.modalWidth-a)/2+d.scrollLeft,n=(d.height-this.options.modalHeight-f)/2+d.scrollTop}let c={width:this.modalData.width||this.options.modalWidth,height:this.modalData.height||this.options.modalHeight,left:this.modalData.left||i,top:this.modalData.top||n,right:this.modalData.right||o,bottom:this.modalData.bottom||s};this.$photoviewer.css(c)}_setInitModalPos(){this.options.initMaximized?(this.maximize(),this.isOpened=!0):this._setModalToCenter(),this.$photoviewer[0].focus()}_setModalSize(){let i=this._getOffsetParentData(),n=Math.max(this.options.gapThreshold,0)+1,o=this._stageEdgeValue.horizontal+this._modalEdgeValue.horizontal,s=this._stageEdgeValue.vertical+this._modalEdgeValue.vertical,a=Math.min((i.width/n-o)/this.imageData.originalWidth,(i.height/n-s)/this.imageData.originalHeight,1),f=0,c=0,d=0,l=0;it(this.$photoviewer)?(f+=this._modalEdgeValue.horizontal,c+=this._modalEdgeValue.vertical):(d+=this._modalEdgeValue.horizontal,l+=this._modalEdgeValue.vertical);let x=Math.max(this.imageData.originalWidth*a+this._stageEdgeValue.horizontal+f,this.options.modalWidth),h=Math.max(this.imageData.originalHeight*a+this._stageEdgeValue.vertical+c,this.options.modalHeight);x=this.options.fixedModalSize?this.options.modalWidth:Math.round(x),h=this.options.fixedModalSize?this.options.modalHeight:Math.round(h);let g,m,b,T;p.isPlainObject(this.options.initModalPos)?(g=this.options.initModalPos.left,m=this.options.initModalPos.top,b=this.options.initModalPos.right,T=this.options.initModalPos.bottom):(g=(i.width-x-d)/2+i.scrollLeft,m=(i.height-h-l)/2+i.scrollTop);let v={width:x,height:h,left:g,top:m,right:b,bottom:T};this.options.initAnimation?this.$photoviewer.animate(v,this.options.animationDuration,this.options.animationEasing,()=>{this._setImageSize()}):(this.$photoviewer.css(v),this._setImageSize()),this.isOpened=!0}_setImageSize(){let i=this.$stage.width(),n=this.$stage.height(),{originalWidth:o,originalHeight:s}=this.imageData,a=Dt(o,s,i,n,this.isRotated),f=o*a,c=s*a;this.$image.css({width:Math.round(f),height:Math.round(c),left:(i-Math.round(f))/2,top:(n-Math.round(c))/2}),p.extend(this.imageData,{initWidth:f,initHeight:c,initLeft:(i-f)/2,initTop:(n-c)/2,width:f,height:c,left:(i-f)/2,top:(n-c)/2}),mt({w:f,h:c},{w:i,h:n},this.$stage,this.isRotated),this.imageLoaded||(this.$stage.find(C+"-loader").remove(),this.$stage.removeClass(u+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.fadeIn(),this.imageLoaded=!0,this._triggerHook("changed",[this,this.index]))}_loadImage(i){this.imageLoaded=!1,this._triggerHook("beforeChange",[this,this.prevIndex]),this._removeErrorMsg(),this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotationDegree=0,this.$stage.append(`<div class="${u}-loader"></div>`),this.$stage.addClass(u+"-align-center"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide();let n=this.images[i]?.src==null?"":this.images[i].src.toString();this.$image.attr("src",n);let o=this.images[i]?.title||Re(n);this.options.title&&this.$title.html(o),this.$image.attr("alt",o),Pe(n,s=>{this.imageData={originalWidth:s.width,originalHeight:s.height},this.isMaximized||this.isOpened&&this.options.fixedModalPos?this._setImageSize():this._setModalSize()},()=>{this.$stage.find(C+"-loader").remove(),this._triggerHook("changed",[this,i]),this._setErrorMsg()})}_setErrorMsg(){let i=p.isFunction(this.options.errorMsg)?this.options.errorMsg(this,this.index):this.options.errorMsg;i&&(this.$stage.append(`<span class="${u}-error-msg">${i}</span>`),this.$image.addClass(u+"-image-error"))}_removeErrorMsg(){this.$stage.find(C+"-error-msg").remove(),this.$image.removeClass(u+"-image-error")}jump(i){let n=Date.now();if(n-this._lastTimestamp>=this.options.animationDuration){let o=this.index+i;this.jumpTo(o),this._lastTimestamp=n}}jumpTo(i){this.prevIndex=this.index;let n=i%this.images.length;n<=0&&(n=(n+this.images.length)%this.images.length),this.index=n,this._loadImage(this.index)}_wheel(i){i.preventDefault();let n=1;i.deltaY?n=i.deltaY>0?1:-1:i.wheelDelta?n=-i.wheelDelta/120:i.detail&&(n=i.detail>0?1:-1);let o=-n*this.options.ratioThreshold,s={x:i.clientX-this.$stage.offset().left+L.scrollLeft(),y:i.clientY-this.$stage.offset().top+L.scrollTop()};this.zoom(o,s)}zoom(i,n){i=i<0?1/(1-i):1+i,i=this.$image.width()/this.imageData.originalWidth*i,!(i>this.options.maxRatio||i<this.options.minRatio)&&this.zoomTo(i,n)}zoomTo(i,n){let{originalWidth:o,originalHeight:s,width:a,height:f,left:c,top:d,initWidth:l}=this.imageData,x=this.$stage.width(),h=this.$stage.height();n===void 0&&(n={x:x/2,y:h/2});let g=o*i,m=s*i,b=n.x-(n.x-c)/a*g,T=n.y-(n.y-d)/f*m,v=this.isRotated?(g-m)/2:0,_=this.isRotated?m:g,W=this.isRotated?g:m,et=x-g,A=h-m;_<=x?b=et/2:b=b>-v?-v:Math.max(b,et+v),W<=h?T=A/2:T=T>v?v:Math.max(T,A-v),Math.abs(l-g)<l*.05?this._setImageSize():(this.$image.css({width:Math.round(g),height:Math.round(m),left:Math.round(b),top:Math.round(T)}),mt({w:Math.round(_),h:Math.round(W)},{w:x,h},this.$stage)),p.extend(this.imageData,{width:g,height:m,left:b,top:T})}rotate(i){this.rotationDegree=this.rotationDegree+i,this.rotationDegree/90%2===0?this.isRotated=!1:this.isRotated=!0,this.rotateTo(this.rotationDegree)}rotateTo(i){this.$image.css({transform:"rotate("+i+"deg)"}),this._setImageSize()}maximize(){this.$photoviewer.addClass(u+"-maximized"),this.$photoviewer.css({width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),this.isMaximized=!0}exitMaximize(){this.$photoviewer.removeClass(u+"-maximized"),this._setModalToCenter(),this.isMaximized=!1}toggleMaximize(){if(this.isMaximized)this.exitMaximize();else{let i=this.$photoviewer.width(),n=this.$photoviewer.height();it(this.$photoviewer)&&(i+=this._modalEdgeValue.horizontal,n+=this._modalEdgeValue.vertical),this.modalData={width:i,height:n,left:parseFloat(this.$photoviewer.css("left")),top:parseFloat(this.$photoviewer.css("top"))},this.maximize()}this._setImageSize(),this.$photoviewer[0].focus()}fullscreen(){Ae(this.$photoviewer[0]),this.$photoviewer[0].focus()}resize(){this.isOpened&&(this.isMaximized?this._setImageSize():this._setModalSize())}_keydown(i){if(!this.options.keyboard)return;let n=i.keyCode||i.which||i.charCode,o=i.ctrlKey||i.metaKey,s=i.altKey;switch(n){case 37:case 38:i.preventDefault(),this.jump(-1);break;case 39:case 40:i.preventDefault(),this.jump(1);break;case 36:case 33:i.preventDefault(),this.jumpTo(0);break;case 35:case 34:i.preventDefault(),this.jumpTo(this.images.length-1);break;case 187:case 107:case 61:this.zoom(this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},i);break;case 189:case 109:case 173:this.zoom(-this.options.ratioThreshold*3,{x:this.$stage.width()/2,y:this.$stage.height()/2},i);break;case 48:o&&s&&this.zoomTo(1,{x:this.$stage.width()/2,y:this.$stage.height()/2},i);break;case 188:o&&(i.preventDefault(),this.rotate(-90));break;case 190:o&&this.rotate(90);break;case 81:this.close();break;case 88:s&&this.toggleMaximize();break;case 70:this.fullscreen();break;default:}}_addEvents(){this.$close.on(P+w,()=>{this.close()}),this.$stage.on(We+w,i=>{this._wheel(i)}),this.$zoomIn.on(P+w,()=>{this.zoom(this.options.ratioThreshold*3)}),this.$zoomOut.on(P+w,()=>{this.zoom(-this.options.ratioThreshold*3)}),this.$actualSize.on(P+w,()=>{this.zoomTo(1)}),this.$prev.on(P+w,()=>{this.jump(-1)}),this.$next.on(P+w,()=>{this.jump(1)}),this.$rotateLeft.on(P+w,()=>{this.rotate(-90)}),this.$rotateRight.on(P+w,()=>{this.rotate(90)}),this.$maximize.on(P+w,()=>{this.toggleMaximize()}),this.$fullscreen.on(P+w,()=>{this.fullscreen()}),this.$photoviewer.on(Fe+w,i=>{this._keydown(i)}),wt.on(qt+w,Ie(()=>this.resize(),500))}_addCustomButtonEvents(){for(let i in this.options.customButtons)this.$photoviewer.find(C+"-button-"+i).on(P+w,n=>{this.options.customButtons[i].click.apply(this,[this,n])})}_triggerHook(i,n){this.options.callbacks[i]&&this.options.callbacks[i].apply(this,p.isArray(n)?n:[n])}_bringToFront(){let i=t.instances.filter(n=>n!==this).sort((n,o)=>n.zIndex-o.zIndex);i.push(this),i.forEach((n,o)=>{let s=this.options.zIndex+o;n.zIndex!==s&&(n.zIndex=s,n.$photoviewer.css("z-index",s))})}}return t})();p.extend(Ue.prototype,{draggable:Be},{movable:Ye},{resizable:Xe});var qe=Ue;var Ze=qe;var Ge=(()=>{class t{constructor(){this._elementRef=ti(ii),this.images=[],this.embed=!1}ngOnInit(){let{nativeElement:i}=this._elementRef;if(this.embed)this.options=Jt({appendTo:i,positionFixed:!1,modalWidth:i.clientWidth,modalHeight:i.clientHeight},this.options),this.initPhotoViewer();else if(this.images.length===0&&i.nodeName==="IMG"){let n=i;this.images=[{title:n.title||n.alt,src:n.src}]}}ngOnDestroy(){this.photoviewerInstance?.close()}onClick(i){i.preventDefault(),this.embed||this.initPhotoViewer()}initPhotoViewer(){this.photoviewerInstance=new Ze(this.images,this.options)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=si({type:t,selectors:[["","mtxPhotoviewer",""]],hostBindings:function(n,o){n&1&&fi("click",function(a){return o.onClick(a)})},inputs:{images:[0,"mtxPhotoviewerItems","images"],options:[0,"mtxPhotoviewerOptions","options"],embed:[2,"mtxPhotoviewerEmbed","embed",mi]},exportAs:["mtxPhotoviewer"]})}}return t})(),Ke=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=Qt({})}}return t})();var Tn=t=>({index:t});function Mn(t,e){if(t&1&&(ft(0,"mat-grid-tile")(1,"mat-grid-tile-header")(2,"span",3),ct(3),nt()(),Pt(4,"img",4),nt()),t&2){let i=e.$implicit,n=e.$index,o=ci();xt(3),ui("Gallery Image: ",n+1),xt(),li("alt",di("Gallery Image ",n+1))("mtxPhotoviewerItems",o.images)("mtxPhotoviewerOptions",pi(6,Tn,n))("src",i.src,ei)}}var Lt=class t{dir="images/pixabay/";images=[];ngOnInit(){for(let e=1;e<=20;e++)this.images.push({title:e,src:this.dir+e+".jpg"})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=ni({type:t,selectors:[["app-media-gallery"]],decls:9,vars:0,consts:[[1,"bg-rose-70"],["href","https://github.com/nzbin/photoviewer","target","_blank"],["cols","4","rowHeight","1:1"],["matLine",""],["mtxPhotoviewer","",1,"w-full","h-full","object-cover","cursor-pointer",3,"mtxPhotoviewerItems","mtxPhotoviewerOptions","src","alt"]],template:function(i,n){i&1&&(Pt(0,"page-header",0),ft(1,"p"),ct(2," The media pictures are powered by "),ft(3,"a",1),ct(4,"PhotoViewer"),nt(),ct(5,` , you can click the picture to enlarge it.
`),nt(),ft(6,"mat-grid-list",2),ai(7,Mn,5,8,"mat-grid-tile",null,ri),nt()),i&2&&(xt(7),hi(n.images))},dependencies:[Ti,Ei,xi,yi,gi,bi,vi,Ke,Ge,wi],encapsulation:2})};var Qs=[{path:"gallery",component:Lt}];export{Qs as routes};
